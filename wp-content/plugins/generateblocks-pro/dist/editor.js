(()=>{"use strict";var e={n:t=>{var r=t&&t.__esModule?()=>t.default:()=>t;return e.d(r,{a:r}),r},d:(t,r)=>{for(var o in r)e.o(r,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:r[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.data,r=window.gbp.stylesBuilder,o=(0,t.createReduxStore)("gbp-block-styles-current-style",{reducer:r.currentStyleReducer,actions:r.currentStyleActions,selectors:r.currentStyleSelectors}),s=(0,t.createReduxStore)("gbp-block-styles-at-rule",{reducer:r.atRuleReducer,actions:r.atRuleActions,selectors:r.atRuleSelectors}),n=(0,t.createReduxStore)("gbp-block-styles-nested-rule",{reducer:r.nestedRuleReducer,actions:r.nestedRuleActions,selectors:r.nestedRuleSelectors});(0,t.register)(o),(0,t.register)(s),(0,t.register)(n);const a=window.React,l=window.wp.hooks,c=window.wp.compose,i=window.wp.blockEditor,u=window.wp.i18n,d=window.wp.components,p=window.wp.element,m=window.wp.primitives,g=(0,p.createElement)(m.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,p.createElement)(m.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"})),b=(0,p.createElement)(m.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,p.createElement)(m.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})),y={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let k;const h=new Uint8Array(16);function _(){if(!k&&(k="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!k))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return k(h)}const f=[];for(let e=0;e<256;++e)f.push((e+256).toString(16).slice(1));const w=function(e,t,r){if(y.randomUUID&&!t&&!e)return y.randomUUID();const o=(e=e||{}).random||(e.rng||_)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=o[e];return t}return function(e,t=0){return f[e[t+0]]+f[e[t+1]]+f[e[t+2]]+f[e[t+3]]+"-"+f[e[t+4]]+f[e[t+5]]+"-"+f[e[t+6]]+f[e[t+7]]+"-"+f[e[t+8]]+f[e[t+9]]+"-"+f[e[t+10]]+f[e[t+11]]+f[e[t+12]]+f[e[t+13]]+f[e[t+14]]+f[e[t+15]]}(o)},v=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","download","formnovalidate","hidden","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","readonly","required","reversed","selected"],S=e=>e.replace(/[^a-zA-Z0-9-_\.]/g,"");function E({items:e={},onAdd:t,onRemove:r,onChange:o,label:s=(0,u.__)("HTML Attributes","generateblocks")}){const[n,l]=(0,p.useState)(""),[c,i]=(0,p.useState)(""),[m,y]=(0,p.useState)(""),[k,h]=(0,p.useState)(null);return(0,a.createElement)(d.BaseControl,{label:s,id:w()},(0,a.createElement)("div",{className:"gb-html-attributes"},Object.entries(e).map((([t,s],n)=>(0,a.createElement)("div",{className:"gb-html-attributes__item",key:n},(0,a.createElement)(d.TextControl,{type:"text",value:k&&k.oldKey===t?k.key:t,onChange:e=>h({oldKey:t,key:e,value:s}),title:t}),(0,a.createElement)(d.TextControl,{type:"text",value:k&&k.oldKey===t?k.value:s,onChange:e=>h({oldKey:t,key:t,value:e}),title:s}),k&&k.oldKey===t?(0,a.createElement)(d.Button,{onClick:()=>(t=>{const r=k.key.startsWith("data-");if(!k.value&&!v.includes(k.key)&&!r&&"alt"!==k.key)return void y("Attribute value is required.");if("class"===k.key)return void y("Class attribute is not allowed.");if(!k.key)return void y("Attribute name is required.");const s={...e};delete s[t],s[S(k.key)]=k.value,o(s),h(null),y("")})(t),icon:g,size:"small",iconSize:"20",variant:"primary"}):(0,a.createElement)(d.Button,{onClick:()=>(t=>{const o={...e};delete o[t],r(o)})(t),icon:b,size:"small",iconSize:"20",isDestructive:!0})))),(0,a.createElement)("div",{className:"gb-html-attributes__item"},(0,a.createElement)(d.TextControl,{type:"text",value:n,onChange:e=>l(e),placeholder:(0,u.__)("Name","generateblocks-pro")}),(0,a.createElement)(d.TextControl,{type:"text",value:c,onChange:e=>i(e),placeholder:(0,u.__)("Value","generateblocks-pro")}),(0,a.createElement)(d.Button,{onClick:()=>{const r=n.startsWith("data-");c||v.includes(n)||r||"alt"===n?"class"!==n?n?(t({...e,[S(n)]:c}),l(""),i(""),y("")):y("Attribute name is required."):y("Class attribute is not allowed."):y("Attribute value is required.")},icon:g,size:"small",iconSize:"20",disabled:!n,variant:"primary",style:{display:n||Object.keys(e).length?"":"none",opacity:!n&&Object.keys(e).length?0:1}})),m&&(0,a.createElement)("div",{className:"error-message"},m)))}const C=["generateblocks/button-container","generateblocks/button","generateblocks/container","generateblocks/headline","generateblocks/image","generateblocks/grid","generateblocks/query-loop"],A=(0,c.createHigherOrderComponent)((e=>t=>{const{isSelected:r,attributes:o,setAttributes:s}=t,{htmlAttributes:n}=o,l=t.name.startsWith("generateblocks")&&"generateblocks/query-no-results"!==t.name&&!C.includes(t.name);return r&&l?(0,a.createElement)(a.Fragment,null,(0,a.createElement)(e,{...t}),(0,a.createElement)(i.InspectorAdvancedControls,null,(0,a.createElement)(E,{items:n,onAdd:e=>s({htmlAttributes:e}),onRemove:e=>s({htmlAttributes:e}),onChange:e=>s({htmlAttributes:e})}))):(0,a.createElement)(e,{...t})}),"withHtmlAttributesControl");(0,l.addFilter)("editor.BlockEdit","generateblocks-pro/html-attributes/add-control",A),(0,l.addFilter)("generateblocks.blockSettings.afterImageUrlControls","generateblocks-pro/add-image-link-attributes-control",(function(e,t){const{attributes:r,setAttributes:o}=t,{linkHtmlAttributes:s,tagName:n}=r;return s?.href&&"img"===n?(0,a.createElement)(a.Fragment,null,e,(0,a.createElement)(E,{label:(0,u.__)("Link Attributes","generateblocks"),items:s,onAdd:e=>o({linkHtmlAttributes:e}),onRemove:e=>o({linkHtmlAttributes:e}),onChange:e=>o({linkHtmlAttributes:e})})):e}));const P=window.gbp.blockStyles,R=(0,p.createElement)(m.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,p.createElement)(m.Path,{d:"M12 4c-4.4 0-8 3.6-8 8v.1c0 4.1 3.2 7.5 7.2 7.9h.8c4.4 0 8-3.6 8-8s-3.6-8-8-8zm0 15V5c3.9 0 7 3.1 7 7s-3.1 7-7 7z"}));function x({styles:e={},onPaste:r,clientId:o,onClear:s}){const{updateBlockAttributes:n}=(0,t.useDispatch)("core/block-editor"),{getMultiSelectedBlockClientIds:l,hasMultiSelection:c}=(0,t.useSelect)("core/block-editor"),i="generateblocksLocalStyles",m=JSON.parse(sessionStorage.getItem(i)),g=(0,p.useMemo)((()=>Object.keys(e).length),[e]);return g||m?(0,a.createElement)(d.ToolbarGroup,{isCollapsed:!0,icon:R,label:(0,u.__)("Styles","generateblocks-pro"),controls:[{title:(0,u.__)("Copy Styles","generateblocks-pro"),onClick:()=>{sessionStorage.setItem(i,JSON.stringify(e))},isDisabled:c()||!g},{title:(0,u.__)("Paste Styles","generateblocks-pro"),onClick:()=>{const e=JSON.parse(sessionStorage.getItem(i));e&&r(e)},isDisabled:!m},{title:(0,u.__)("Clear Styles","generateblocks-pro"),onClick:()=>{if(window.confirm(c()?(0,u.__)("This will remove all styling from these blocks.","generateblocks-pro"):(0,u.__)("This will remove all styling from this block.","generateblocks-pro"))){const e=c()?l():[o],t={};e.forEach((e=>{t[e]={styles:{}}})),n(e,t,!0),s&&s()}},isDisabled:!g}]}):null}const T=(0,c.createHigherOrderComponent)((e=>t=>{const{name:o,attributes:s,clientId:n}=t,{styles:l}=s,c=(0,P.useSetStyles)(t,{cleanStylesObject:r.cleanStylesObject});return o.startsWith("generateblocks/")&&void 0!==l?(0,a.createElement)(a.Fragment,null,(0,a.createElement)(e,{...t}),(0,a.createElement)(i.BlockControls,null,(0,a.createElement)(x,{styles:l,clientId:n,onPaste:c}))):(0,a.createElement)(e,{...t})}),"withCopyStylesToolbar");(0,l.addFilter)("editor.BlockEdit","generateblocks-pro/copy-paste-styles",T);const I=window.wp.plugins;(0,t.createReduxStore)("gbp-current-style",{reducer:r.currentStyleReducer,actions:r.currentStyleActions,selectors:r.currentStyleSelectors}),(0,t.createReduxStore)("gbp-styles",{reducer:r.styleReducer,actions:r.styleActions,selectors:r.styleSelectors}),(0,t.createReduxStore)("gbp-styles-at-rule",{reducer:r.atRuleReducer,actions:r.atRuleActions,selectors:r.atRuleSelectors}),(0,t.createReduxStore)("gbp-styles-nested-rule",{reducer:r.nestedRuleReducer,actions:r.nestedRuleActions,selectors:r.nestedRuleSelectors});const F=window.wp.apiFetch;var B=e.n(F);window.wp.notices;const O=window.wp.url;function q(){return(0,t.useSelect)((()=>{const e=(0,O.getPath)(window.location.href)?.includes("site-editor.php"),r=(0,t.select)(e?"core/edit-site":"core/editor");return{getSettings:e?r.getSettings:r.getEditorSettings}}),[])}function M(){const e=(0,O.getPath)(window.location.href)?.includes("site-editor.php"),r=(0,t.useDispatch)(e?"core/edit-site":"core/editor");return{updateSettings:e?r.updateSettings:r.updateEditorSettings}}function D(){const{updateSettings:e}=M(),{getSettings:t}=q();return async(r,o="")=>{if(!o){const e=await B()({path:(0,O.addQueryArgs)("/generateblocks-pro/v1/global-classes/get_css",{selector:r}),method:"GET"});!0===e.success&&(o=e.response.data.toString())}const s=t(),n=s?.styles?.find((e=>"gb_class:"+r===e.source));e(n?{...s,styles:s?.styles.map((e=>"gb_class:"+r!==e.source?e:{...e,css:o}))}:{...s,styles:[...s?.styles,{css:o,source:"gb_class:"+r}]})}}const L=window.wp.coreData;window.lodash,"undefined"!=typeof gbGlobalStylePermissions&&gbGlobalStylePermissions,window.wp.editPost,(0,I.registerPlugin)("generateblocks-pro-update-style-selectors",{render:function(){const{getSettings:e}=q(),{updateSettings:t}=M(),r=e(),{styles:o}=r;return(0,p.useEffect)((()=>{if(!Array.isArray(o))return;const e=o.filter((e=>e.source?.startsWith("gb_class:"))).map((e=>{const t=(0,i.transformStyles)([{css:e.css}],".editor-styles-wrapper")?.[0];return t?{css:t,source:e.source}:null})).filter(Boolean);e.length>0&&t({...r,styles:r.styles.map((t=>{const r=e.find((e=>e.source===t.source));return r?{...t,css:r.css}:t}))})}),[]),null}}),(0,l.addFilter)("generateblocks.editor.SelectMetaKeys.options","generateblocks-pro/dynamic-tags/post-meta",(function(e,{post:t,term:r,user:o,type:s}){var n,a,l;const c="1"===generateBlocksPro?.isACFActive,i=!t&&!r&&!o&&"option"!==s,d=function(e=!0){const[t,r]=(0,p.useState)([]);return(0,p.useEffect)((()=>{e?(async()=>{try{const e=await B()({path:"/generateblocks-pro/v1/get-acf-option-fields",method:"GET"});r(e)}catch(e){console.error("Failed to fetch ACF option fields:",e),r([])}})():r([])}),[e]),t}(c&&"option"===s&&!i);if(i||!c)return e;let m={};switch(s){case"post":m=null!==(n=t?.acf)&&void 0!==n?n:{};break;case"term":m=null!==(a=r?.acf)&&void 0!==a?a:{};break;case"author":case"user":m=null!==(l=o?.acf)&&void 0!==l?l:{};break;case"option":m=d;break;default:return e}const g=Object.keys(m);if(0===g.length)return e;const b=function(e){const t=[],r=e.sort(((e,t)=>e.localeCompare(t))),o=[];r.forEach((e=>{r.forEach((t=>{const r=new RegExp(`^${e}_\\d_`,"gi");t!==e&&t.startsWith(e)&&t.match(r)&&o.push(t)}))}));const s=[];return r.filter((e=>!t.includes(e)&&!o.includes(e))).forEach((e=>{s.push({label:e,value:e})})),s}(g);return[...e,{id:"acf",label:(0,u.__)("ACF Fields","generateblocks-pro"),items:b}]})),(0,l.addFilter)("generateblocks.editor.SelectMetaKeys.keys","generateblocks-pro/dynamic-tags/acf",(function(e,t){const{acf:r={}}=t,o=Object.keys(r);return e.filter((e=>!o.includes(e.value)))})),(0,l.addFilter)("generateblocks.dynamicTags.sourceOptions","generateblocks-pro/dynamicTags/set-adjacent-post-options",(function(e,{dynamicTagType:t}){return"post"!==t&&"author"!==t||(e.push({value:"next-post",label:(0,u.__)("Next Post","generateblocks-pro")}),e.push({value:"previous-post",label:(0,u.__)("Previous Post","generateblocks-pro")})),e})),(0,l.addFilter)("generateblocks.dynamicTags.sourcesInOptions","generateblocks-pro/dynamicTags/set-adjacent-sources-in-options",(function(e){return e.push("next-post"),e.push("previous-post"),e}));const N=window.wp.editor,V=window.gbp.components;function G({value:e,setParameter:t}){return(0,a.createElement)(d.TextControl,{label:(0,u.__)("Per Page","generateblocks-pro"),value:e,onChange:e=>t("posts_per_page",e),type:"number",min:-1})}function H({value:e,setParameter:t}){return(0,a.createElement)(d.TextControl,{label:(0,u.__)("Offset","generateblocks-pro"),value:e,onChange:e=>t("offset",e),type:"number",min:0,help:(0,u.__)("Offset is ignored if per_page is set to -1.","generateblocks")})}(0,l.addFilter)("generateblocks.editor.query.queryTypes","generateblocks-pro/query/addTypes",(function(e){return[...e,{label:(0,u.__)("Post Meta","generateblocks-pro"),value:"post_meta",help:(0,u.__)("Loop over post meta array value.","generateblocks-pro")},{label:(0,u.__)("Option","generateblocks-pro"),value:"option",help:(0,u.__)("Loop over option array value.","generateblocks-pro")}]})),(0,l.addFilter)("generateblocks.editor.query.inspectorControls","generateblocks-pro/query/inspector-controls",(function(e,r){var o;const{queryType:s,queryState:n,setParameter:c,removeParameter:i,queryClient:d}=r,m=(0,l.applyFilters)("generateblocks.editor.preview.context",null!==(o=r?.context)&&void 0!==o?o:{},{queryType:s,queryState:n,otherControls:e}),g=(0,t.useSelect)((e=>{const{postId:t}=m;if(t)return parseInt(t,10);const{getCurrentPostId:r}=e(N.store);return r?r():null}),[m]),{meta_key:b="",meta_key_id:y="current",posts_per_page:k=10,offset:h=0}=n,_=(0,p.useMemo)((()=>{const e=[];return"post_meta"===s&&e.push("post"),{load:e,options:{},postId:"current"!==y&&y?parseInt(y,10):g}}),[s,y,g]),{record:f}=(0,V.usePostRecord)(_);return(0,p.useEffect)((()=>{y&&"post_meta"!==s&&i("meta_key_id"),b&&!["option","post_meta"].includes(s)&&i("meta_key")}),[s,y,b]),(0,a.createElement)(a.Fragment,null,e,"post_meta"===s&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)(V.SelectPost,{value:y.toString(),onChange:function(e){var t;return c("meta_key_id",null!==(t=e?.value)&&void 0!==t?t:"")},onClear:function(){c("meta_key_id","current")},help:(0,u.__)("Type to search for posts.","generateblocks-pro"),currentPostId:g,placeholder:(0,u.__)("Current Post","generateblocks-pro"),queryClient:d}),(0,a.createElement)(V.SelectMeta,{onSelect:e=>{e?.value?c("meta_key",e.value):i("meta_key")},onClear:()=>i("meta_key"),onEnter:e=>c("meta_key",e),onAdd:({inputValue:e})=>c("meta_key",e),help:(0,u.__)("Meta value must be an array","generateblocks-pro"),value:b,post:f,type:"post"}),(0,a.createElement)(G,{value:k,setParameter:c}),(0,a.createElement)(H,{value:h,setParameter:c})),"option"===s&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)(V.SelectMeta,{onSelect:e=>{e?.value?c("meta_key",e.value):i("meta_key")},onClear:()=>i("meta_key"),onEnter:e=>c("meta_key",e),onAdd:({inputValue:e})=>c("meta_key",e),help:(0,u.__)("Meta value must be an array","generateblocks-pro"),value:b,type:"option"}),(0,a.createElement)(G,{value:k,setParameter:c}),(0,a.createElement)(H,{value:h,setParameter:c})))})),(0,l.addFilter)("generateblocks.editor.looper.query","generateblocks-pro/looper/custom-query",(function(e,{query:r,queryType:o,context:s}){const n=(0,t.useSelect)((e=>{const{postId:t}=s;if(t)return parseInt(t,10);const{getCurrentPostId:r}=e("core/editor");return r?r():null}),[s]),{meta_key:a,meta_key_id:l="current"}=r,c="current"!==l&&l?parseInt(l,10):n,i=(0,V.usePostMeta)({shouldRequest:"post_meta"===o,id:c,key:a}),u=(0,V.useOption)({shouldRequest:"option"===o,key:a});return"post_meta"===o&&i.data?i:"option"===o&&u.data?u:e}),10,2);const j=(0,p.createElement)(m.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,p.createElement)(m.Path,{d:"M18 11.2h-5.2V6h-1.6v5.2H6v1.6h5.2V18h1.6v-5.2H18z"}));(0,l.addAction)("generateblocks.patterns.patternsList","generateblocks.patterns.setGlobalStyleCSS",(({activeLibrary:e,setGlobalStyleCSS:t,setGlobalStyleData:r,isLocal:o,cacheIsClearing:s})=>{(0,p.useEffect)((()=>{!async function(){if(o)t(""),r([]);else{var s,n;const{data:o}=await async function(e){try{const t=await B()({path:(0,O.addQueryArgs)("/generateblocks-pro/v1/pattern-library/get-global-style-data",{url:e?.domain,id:e?.id,publicKey:e?.publicKey}),method:"GET",headers:{"X-GB-Public-Key":e.publicKey}});if(t)return t.response}catch(e){return[]}}(e);t(null!==(s=o?.css)&&void 0!==s?s:""),r(null!==(n=o?.styles)&&void 0!==n?n:[])}}()}),[e?.id,s])})),(0,l.addFilter)("generateblocks.patterns.insertPatternButton","generateblocks.patterns.insertGlobalStyleButton",((e,{onClick:o,label:s,patterns:n,globalStyleData:l,className:c,disabled:i})=>{const u=D(),m=function(){const{editEntityRecord:e}=(0,t.useDispatch)(L.store),o=D();return async(t,s,n)=>{const a=await(0,r.getCss)(t,n),l=["postType","gblocks_styles",s];await e(...l,{title:t,gb_style_selector:t,gb_style_data:n,gb_style_css:a});const c=await(0,r.getCss)(t,n,"editor");o(t,c)}}(),[g,b]=(0,p.useState)(!1),{getEntityRecordEdits:y,getEntityRecord:k}=(0,t.useSelect)(L.store);return(0,a.createElement)(d.Button,{variant:"primary",className:c,icon:j,isBusy:g,disabled:i,onClick:async e=>{b(!0);const t=n.map((e=>e.globalStyleSelectors)).flat();if(!t.length)return void o(e);const r=[];if(t.forEach((e=>{const t=l.find((t=>t.className===e));t&&!r.includes(t)&&r.push(t)})),r.length)try{const t=await B()({path:"/generateblocks-pro/v1/pattern-library/import-styles",method:"POST",data:{styles:r}}),s=t?.response?.data?.imported,n=t?.response?.data?.existing;if(n?.length){const e=n.find((e=>".gbp-section__inner"===e.selector));e&&await async function(e,t=[]){const r=l.find((t=>t.className===e.selector)),o=JSON.parse(r.styles),s=await y("postType","gblocks_styles",e.id),n={...e.styles},a={...s?.gb_style_data||n};let c=!1;for(const e of t)!a[e]&&o[e]&&(a[e]=o[e],c=!0);c&&await async function(e,t,r=10){return new Promise((o=>{let s=0;const n=()=>{const a=k(e,"gblocks_styles",t);a?o(a):s<r&&(s++,setTimeout(n,100))};n()}))}("postType",e.id)&&await m(e.selector,e.id,a)}(e,["maxWidth"])}s.length&&s.forEach((e=>{const t=l.find((t=>t.className===e))?.css;u(e,t)})),o(e),b(!1)}catch(t){o(e),b(!1)}else o(e)}},s)})),(0,l.addFilter)("generateblocks.patternLibrary.addLibraryContent","generateblocks.patternLibrary.addRemoteLibrary",((e,{setShowAddLibrary:t,setLibraries:r})=>{const[o,s]=(0,p.useState)(""),[n,l]=(0,p.useState)(""),[c,i]=(0,p.useState)(""),[m,g]=(0,p.useState)(!1);return(0,a.createElement)(a.Fragment,null,(0,a.createElement)(d.TextControl,{label:(0,u.__)("Domain","generateblocks-pro"),value:n,onChange:l,type:"url",placeholder:"https://yourdomain.com",onBlur:()=>{""===n||n.startsWith("http")?n&&s(""):l("https://"+n.replace(/^\/\//,""))}}),(0,a.createElement)(d.TextControl,{label:(0,u.__)("Public key","generateblocks-pro"),value:c,onChange:i,onBlur:()=>{c&&s("")}}),(0,a.createElement)(d.Button,{disabled:!!o,variant:"primary",isBusy:m,onClick:async()=>{if(g(!0),s(""),""===n)return s((0,u.__)("Please enter a domain.","generateblocks-pro")),void g(!1);if(""===c)return s((0,u.__)("Public key is required.","generateblocks-pro")),void g(!1);const e={id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),domain:n,publicKey:c,isEnabled:!0,isDefault:!1,isLocal:!1};try{const o=await B()({path:"/generateblocks-pro/v1/pattern-library/add-library",method:"POST",data:{domain:n,publicKey:c,data:e}});if(!o?.success)throw new Error(o?.response);await r(),t(!1),g(!1)}catch(e){s(e?.message||(0,u.__)("Error adding library.","generateblocks-pro")),g(!1)}}},(0,u.__)("Add","generateblocks-pro")),o&&(0,a.createElement)(d.Notice,{status:"error",isDismissible:!1,className:"gb-add-library__error"},o))})),(0,l.addFilter)("generateblocks.editor.allowCustomAtRule","generateblocks-pro/editor/allowCustomAtRule",(()=>!0)),(0,l.addFilter)("generateblocks.editor.allowCustomAdvancedSelector","generateblocks-pro/editor/allowCustomAdvancedSelector",(()=>!0));const K=(0,l.applyFilters)("generateblocks-pro.deviceVisibilityOptions",[{label:(0,u.__)("Hide on Desktop","generateblocks-pro"),ruleId:"largeWidth"},{label:(0,u.__)("Hide on Tablet","generateblocks-pro"),ruleId:"mediumWidth"},{label:(0,u.__)("Hide on Tablet & Mobile","generateblocks-pro"),ruleId:"mediumSmallWidth"},{label:(0,u.__)("Hide on Mobile","generateblocks-pro"),ruleId:"smallWidth"}]),z=["none","none!important","none !important"];(0,l.addFilter)("generateblocks.blockSettings.openPanel","generateblocks-pro/device-visibility",(function(e,t){const{panelId:o,getStyleValue:s,onStyleChange:n}=t;return"settings"!==o||void 0===s?e:K&&K.length?(0,a.createElement)(a.Fragment,null,e,(0,a.createElement)(d.BaseControl,{label:(0,u.__)("Device Visibility","generateblocks-pro"),id:"gb-device-visibility"},(0,a.createElement)(V.Stack,{gap:"5px"},K.map((e=>{const t=(0,r.getAtRuleValue)(e.ruleId),o=z.includes(s("display",t));return(0,a.createElement)(d.ToggleControl,{key:e.ruleId,label:e.label,checked:o,onChange:e=>{n("display",e?"none !important":"",t)}})}))))):e}))})();